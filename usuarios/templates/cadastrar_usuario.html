{% extends 'baseus.html' %}


{% block 'body' %}
    <div class="container">
        {% if messages %}
            <br>
            {% for message in messages%}
                <div class="alert {{message.tags}}">{{message}}</div>
            {% endfor%}
        {% endif %}

        <h1>Cadastro de {{ cargos }} </h1>
        <form  action="" method="POST">

            {% csrf_token %}

            <br>
            <label>Nome Completo:</label>
            <input type="text" placeholder="Digite o nome completo ..." name="nome" class="form-control">
            <br>
            <label>E-mail</label>
            <input type="email" placeholder="Digite o E-mail..." name="email" class="form-control">

            <br>
            <label>Data de Nascimento</label>
            <input type="date" placeholder="dd/mm/aaaa" name="dt_nasto" class="form-control">

            <br>
            <label>RG</label>
            <input type="text" placeholder="000.000.000-0" name="doc_rg" class="form-control">

            <br>
            <label>CPF</label>
            <input type="text" placeholder="000.000.000-00" name="doc_cpf" class="form-control">

            <br>
            <label>Telefone</label>
            <input type="number" placeholder="(00) 00000-0000" name="telefone" class="form-control">

            <!-- <br>
            <label>Cargo</label>
            <input type="text" placeholder="---" name="cargo" class="form-control">
            -->

            <br>
            <label>Usuário</label>
            <input type="text" placeholder="Digite o usuário..." name="usuario" class="form-control">
            <br>

            <label>Senha</label>
            <input type="password" placeholder="Digite a Senha..." name="senha" class="form-control">
            <br>
            <input type="submit" class="btn btn-success">
        
        </form>

        <hr class="bg-hr">

        <table class="table table-striped table-dark">
            <thead>
                <tr>
                    <th scope="col">Nome Completo</th>
                    <th scope="col">Usuário</th>
                    <th scope="col">Telefone</th>
                    <th scope="col">E-mail</th>
                    <th scope="col">Último login</th>
                    <th scope="col">Excluir</th>
                </tr>
            </thead>
            <tbody>
                {% for usuario in usuarios%}
                    <tr>
                        <th>{{usuario.first_name}}</th>
                        <th>{{usuario.username}}</th>
                        <td>{{usuario.telefone}}</td>
                        <td>{{usuario.email}}</td>
                        <td>{% if not usuario.last_login %}
                                Primeiro acesso
                            {% else %}
                                {{usuario.last_login}}
                            {% endif %}

                        </td>
                        <td><a href="{% url 'excluir_usuario' usuario.id %}" class="btn btn-danger btn-sm">Excluir</a></td>
                    </tr>
                {% endfor %}

            </tbody>
            </table>
    </div>
{% endblock %}